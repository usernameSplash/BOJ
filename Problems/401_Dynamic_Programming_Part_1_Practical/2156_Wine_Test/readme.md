## 포도주 시식

테이블 위에 다양한 포도주가 들어있는 포도주 잔이 일렬로 놓여 있었다. 포도주 시식을 하려고 하는데, 여기에는 다음과 같은 두 가지 규칙이 있다.

1. 포도주 잔을 선택하면 그 잔에 들어있는 포도주는 모두 마셔야 하고, 마신 후에는 원래 위치에 다시 놓아야 한다.
2. 연속으로 놓여 있는 3잔을 모두 마실 수는 없다.

**최대로 마실 수 있는 포도주의 양**을 구해야 한다.

예를 들어 6개의 포도주 잔이 있고, 각각의 잔에 순서대로 6, 10, 13, 9, 8, 1 만큼의 포도주가 들어 있을 때, 첫 번째, 두 번째, 네 번째, 다섯 번째 포도주 잔을 선택하면 총 포도주 양이 33으로 최대로 마실 수 있다.

## 해설

여기서 핵심은 **연속으로 3잔을 마실 수 없다** 는 규칙이다.

i번째 포도주를 마신다고 할 때, (i-2)번째 포도주까지 *어떻게든 잘* 마시고, (i-1)번째는 건너뛰고 i번째 포도주를 마시면 규칙을 지키면서 i번째 포도주를 마실 수 있다.

또는, (i-3)번째 포도주까지 *어떻게든 잘* 마시고, (i-1)번째 포도주와 i번째 포도주를 연달아 마셔도 규칙을 지키면서 i번째 포도주를 마실 수 있다. 

마지막으로 (i-1)번째 포도주까지 *어떻게든 잘* 마신 후, **i번째 포도주는 마시지 않을 수도 있다**. 

## 정답

기저조건의 자세한 설명은 생략한다.

```
dp[i] = dp[i-3] + data[i-1] + data[i-1]

또는

dp[i] = dp[i-2] + data[i]

또는

dp[i] = dp[i-1]
```

셋 중 더 큰 값을 취한다.

## 반성

3번째 조건을 생각하지 못해서 시간을 많이 소모했다.